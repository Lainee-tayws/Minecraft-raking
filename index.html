<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FishTiers | Final</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap');
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: #0a0a0a; color: #fff; margin: 0; padding-bottom: 120px;
        }

        .header {
            padding: 20px; background: #111; border-bottom: 2px solid #f00;
            display: flex; justify-content: space-between; align-items: center;
        }

        .container { max-width: 900px; margin: auto; padding: 10px; }

        .nav-group { display: flex; justify-content: center; gap: 10px; margin: 15px 0; flex-wrap: wrap; }
        
        .btn {
            background: #222; border: 1px solid #444; color: #fff;
            padding: 10px 20px; border-radius: 5px; cursor: pointer;
            font-weight: 700; text-transform: uppercase; font-size: 12px;
        }

        .btn.active { background: #f00; border-color: #f00; }

        /* Карточка в топе */
        .card {
            background: #161616; border: 1px solid #333; padding: 15px;
            margin-bottom: 10px; display: flex; align-items: center; border-radius: 10px;
        }
        .rank { font-size: 24px; margin-right: 20px; color: #f00; width: 40px; }
        .skin { width: 40px; height: 40px; margin-right: 15px; border-radius: 5px; }

        /* Строка тира */
        .tier-row {
            background: #161616; border: 1px solid #333; border-radius: 10px;
            margin-bottom: 10px; display: flex; overflow: hidden;
        }
        .tier-label {
            background: #f00; color: #fff; padding: 15px;
            font-weight: 900; width: 50px; text-align: center;
        }
        .p-list { padding: 10px; display: flex; flex-wrap: wrap; gap: 10px; }
        .p-item { background: #333; padding: 5px 12px; border-radius: 5px; font-size: 14px; }

        .admin-bar {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: #111; padding: 15px; border-top: 2px solid #f00;
            display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; z-index: 1000;
        }
        
        input, select { background: #000; color: #fff; border: 1px solid #555; padding: 5px; border-radius: 3px; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="header">
    <div style="font-weight:900; font-size:24px;">FISH<span style="color:#f00">TIERS</span></div>
    <input type="text" id="search" placeholder="Поиск..." oninput="render()">
</div>

<div class="container">
    <div class="nav-group">
        <button class="btn active" onclick="setMode('global', this)">Глобальный ТОП</button>
        <button class="btn" onclick="setMode('sword', this)">Мечи</button>
        <button class="btn" onclick="setMode('bow', this)">Луки</button>
    </div>

    <div class="nav-group">
        <button class="btn active" onclick="setSrv('all', this)">Все Сервера</button>
        <button class="btn" onclick="setSrv('ugame', this)">UGAME</button>
        <button class="btn" onclick="setSrv('breadix', this)">BREADIX</button>
        <button class="btn" onclick="setSrv('minenex', this)">MINENEX</button>
    </div>

    <div id="content"></div>
</div>

<div id="admin-ui" class="admin-bar hidden">
    <input type="text" id="in-name" placeholder="Ник">
    <input type="text" id="in-tier" placeholder="HT1" style="width:50px">
    <input type="number" id="in-rank" placeholder="Ранг" style="width:50px">
    <select id="in-srv">
        <option value="ugame">UGAME</option>
        <option value="breadix">BREADIX</option>
        <option value="minenex">MINENEX</option>
    </select>
    <select id="in-type">
        <option value="sword">Меч</option>
        <option value="bow">Лук</option>
    </select>
    <label><input type="checkbox" id="in-glob"> В ТОП</label>
    <button onclick="save()" style="background:green; color:#fff; border:none; padding:5px 15px; cursor:pointer;">СОХРАНИТЬ</button>
    <button onclick="del()" style="background:red; color:#fff; border:none; padding:5px 15px; cursor:pointer;">УДАЛИТЬ</button>
</div>

<div style="text-align:center; padding: 20px; opacity:0.2;" onclick="auth()">ADMIN</div>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyCwcHXslvUZoFJ6qOd-7TGZXo2dQrWx6Kg",
        authDomain: "fishtiers-b8b0f.firebaseapp.com",
        databaseURL: "https://fishtiers-b8b0f-default-rtdb.firebaseio.com",
        projectId: "fishtiers-b8b0f",
        storageBucket: "fishtiers-b8b0f.firebasestorage.app",
        messagingSenderId: "887698034750",
        appId: "1:887698034750:web:953f8fb88f215c7104816f"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let players = [];
    let curMode = 'global';
    let curSrv = 'all';

    db.ref('players').on('value', snap => {
        const val = snap.val();
        players = val ? Object.values(val) : [];
        render();
    });

    function render() {
        const container = document.getElementById('content');
        const searchQ = document.getElementById('search').value.toLowerCase();
        container.innerHTML = '';

        let list = players.filter(p => {
            const matchSrv = curSrv === 'all' || p.srv === curSrv;
            const matchName = p.name.toLowerCase().includes(searchQ);
            const matchType = curMode === 'global' ? p.isGlob : p.type === curMode;
            return matchSrv && matchName && matchType;
        });

        // Сортировка: ранг 1 выше ранга 2
        list.sort((a, b) => (a.rank || 99) - (b.rank || 99));

        if (curMode === 'global') {
            list.forEach(p => {
                container.innerHTML += `
                    <div class="card">
                        <div class="rank">#${p.rank}</div>
                        <img src="https://minotar.net/helm/${p.name}/40.png" class="skin">
                        <div>
                            <div style="font-weight:900;">${p.name}</div>
                            <div style="font-size:12px; color:#aaa;">${p.srv.toUpperCase()} | ${p.tier}</div>
                        </div>
                    </div>`;
            });
        } else {
            const tiers = ["HT1", "HT2", "HT3", "MT1", "MT2", "LT1", "LT2", "LT3"];
            tiers.forEach(t => {
                const inTier = list.filter(p => p.tier === t);
                if (inTier.length) {
                    container.innerHTML += `
                        <div class="tier-row">
                            <div class="tier-label">${t}</div>
                            <div class="p-list">
                                ${inTier.map(p => `<div class="p-item">${p.name}</div>`).join('')}
                            </div>
                        </div>`;
                }
            });
        }
    }

    function setMode(m, el) {
        curMode = m;
        document.querySelectorAll('.nav-group:first-of-type .btn').forEach(b => b.classList.remove('active'));
        el.classList.add('active');
        render();
    }

    function setSrv(s, el) {
        curSrv = s;
        document.querySelectorAll('.nav-group:last-of-type .btn').forEach(b => b.classList.remove('active'));
        el.classList.add('active');
        render();
    }

    function save() {
        const name = document.getElementById('in-name').value.trim();
        if (!name) return alert("Ник!");
        db.ref('players/' + name).set({
            name: name,
            tier: document.getElementById('in-tier').value.toUpperCase() || 'LT3',
            rank: parseInt(document.getElementById('in-rank').value) || 99,
            srv: document.getElementById('in-srv').value,
            type: document.getElementById('in-type').value,
            isGlob: document.getElementById('in-glob').checked
        });
    }

    function del() {
        const name = document.getElementById('in-name').value.trim();
        if (name && confirm("Удалить?")) db.ref('players/' + name).remove();
    }

    function auth() {
        if (prompt("Пароль") === "123") {
            document.getElementById('admin-ui').classList.remove('hidden');
        }
    }
</script>
</body>
</html>
e:8px; opacity:0.1; cursor:pointer;" onclick="auth()">ADMIN</div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCwcHXslvUZoFJ6qOd-7TGZXo2dQrWx6Kg",
            authDomain: "fishtiers-b8b0f.firebaseapp.com",
            databaseURL: "https://fishtiers-b8b0f-default-rtdb.firebaseio.com",
            projectId: "fishtiers-b8b0f",
            storageBucket: "fishtiers-b8b0f.firebasestorage.app",
            messagingSenderId: "887698034750",
            appId: "1:887698034750:web:953f8fb88f215c7104816f"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let players = [];
        let curMode = 'global', curDevice = 'all', curServer = 'all';
        let audioCtx;

        function playSound() {
            try {
                if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                if (audioCtx.state === 'suspended') audioCtx.resume();
                const o = audioCtx.createOscillator(), g = audioCtx.createGain();
                o.type='sine'; o.frequency.setValueAtTime(600, audioCtx.currentTime);
                o.frequency.exponentialRampToValueAtTime(100, audioCtx.currentTime + 0.1);
                g.gain.setValueAtTime(0.05, audioCtx.currentTime);
                g.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                o.connect(g); g.connect(audioCtx.destination); o.start(); o.stop(audioCtx.currentTime+0.1);
            } catch(e) {}
        }

        window.addEventListener('click', (e) => {
            if(e.target.tagName==='INPUT' || e.target.tagName==='SELECT' || e.target.tagName==='TEXTAREA') return;
            playSound();
            for(let i=0; i<6; i++) {
                const p = document.createElement('div'); p.className = 'click-particle';
                p.style.left = e.clientX+'px'; p.style.top = e.clientY+'px';
                p.style.setProperty('--tx', (Math.random()-0.5)*100+'px');
                p.style.setProperty('--ty', (Math.random()-0.5)*100+'px');
                document.body.appendChild(p); setTimeout(()=>p.remove(), 600);
            }
        });

        function getTierStyle(t) {
            if(t === "HT1") return "gold";
            if(t === "HT2") return "silver";
            if(t === "HT3") return "bronze";
            return "normal";
        }

        db.ref('players').on('value', snap => {
            players = snap.val() ? Object.values(snap.val()) : [];
            renderAll();
        });

        function renderAll() {
            const area = document.getElementById('display-area');
            const search = document.getElementById('search').value.toLowerCase().trim();
            area.innerHTML = '';

            const filtered = players.filter(p => {
                const mSearch = search === '' || p.name.toLowerCase().includes(search);
                const mDevice = (curDevice === 'all' || p.device === curDevice);
                const mServer = (curServer === 'all' || p.server === curServer);
                const mType = (curMode === 'global') ? true : (curMode === 'bows' ? p.type === 'bow' : p.type === 'sword');
                const mGlobal = (curMode === 'global') ? p.isGlobal : true;
                return mSearch && mDevice && mServer && mType && mGlobal;
            });

            if (curMode === 'global') {
                const grid = document.createElement('div'); grid.className = 'global-grid';
                filtered.sort((a,b) => (curDevice === 'all' ? a.rankGlob - b.rankGlob : a.rankDev - b.rankDev));
                
                filtered.forEach(p => {
                    const r = (curDevice === 'all' ? p.rankGlob : p.rankDev);
                    const rankStr = (r >= 999) ? "-" : `#${r}`;
                    const style = getTierStyle(p.tier);
                    grid.innerHTML += `<div class="player-card card-${style}" onclick="openBio('${p.name}')"><div class="rank-num">${rankStr}</div><div class="skin-box"><img src="https://minotar.net/helm/${p.name}/60.png"></div><div><b>${p.name}</b><br><small>${p.server.toUpperCase()} | ${p.tier}</small></div></div>`;
                });
                area.appendChild(grid);
            } else {
                const tiers = curMode === 'tiers' ? ["HT1", "HT2", "HT3", "MT1", "MT2", "LT1", "LT2", "LT3"] : ["HT1", "HT2", "HT3", "HT4", "HT5", "MT1", "MT2", "MT3", "MT4", "MT5", "LT1", "LT2", "LT3", "LT4", "LT5"];
                
                tiers.forEach(t => {
                    const tierPlayers = filtered.filter(p => p.tier === t).sort((a,b) => a.rankDev - b.rankDev);
                    if(tierPlayers.length > 0) {
                        const style = getTierStyle(t);
                        area.innerHTML += `<div class="tier-row"><div class="tier-label t-${style}">${t}</div><div class="players-wrap">${tierPlayers.map(p => `<div class="p-tag tag-${style}" onclick="openBio('${p.name}')">${p.name}</div>`).join('')}</div></div>`;
                    }
                });
            }
        }

        function init() {
            const s = JSON.parse(localStorage.getItem('fCfg')) || { color: '#FF0000', blur: 100 };
            document.getElementById('u-color').value = s.color;
            document.getElementById('u-blur').value = s.blur;
            updateUI(false);
        }

        function updateUI(save = true) {
            const c = document.getElementById('u-color').value, b = document.getElementById('u-blur').value;
            document.documentElement.style.setProperty('--accent', c);
            document.documentElement.style.setProperty('--blur', b + 'px');
            document.getElementById('glow').style.background = `radial-gradient(circle at 20% 20%, ${c} 0%, transparent 40%), radial-gradient(circle at 80% 80%, ${c} 0%, transparent 40%)`;
            if(save) localStorage.setItem('fCfg', JSON.stringify({ color: c, blur: b }));
        }

        function setMainMode(m, el) { curMode = m; updateActive(el, '#main-modes'); renderAll(); }
        function setDevice(d, el) { curDevice = d; updateActive(el, '#device-modes'); renderAll(); }
        function setServer(s, el) { curServer = s; updateActive(el, '#srv-select'); renderAll(); }
        function updateActive(el, parentId) { document.querySelectorAll(parentId + ' .nav-btn').forEach(b => b.classList.remove('active')); el.classList.add('active'); }
        function toggleModal(id) { document.getElementById(id).classList.toggle('hidden'); }

        function openBio(n) {
            const p = players.find(x => x.name === n); if(!p) return;
            document.getElementById('b-name').innerText = p.name;
            document.getElementById('b-img').src = `https://minotar.net/helm/${p.name}/100.png`;
            document.getElementById('b-stats').innerHTML = `DEVICE: ${p.device.toUpperCase()} | SERVER: ${p.server.toUpperCase()}<br>TIER: ${p.tier} | RANK: ${p.rankDev>=999?'-':'#'+p.rankDev} (ALL: ${p.rankGlob>=999?'-':'#'+p.rankGlob})`;
            document.getElementById('b-bio-text').innerText = p.bio || "Биография игрока отсутствует.";
            toggleModal('bio-modal');
        }

        function saveData() {
            const n = document.getElementById('adm-name').value.trim();
            if(!n) return alert("Введите ник!");
            
            db.ref('players/' + n).set({
                name: n, 
                tier: document.getElementById('adm-tier').value.toUpperCase(),
                rankDev: parseInt(document.getElementById('adm-rank-dev').value) || 999,
                rankGlob: parseInt(document.getElementById('adm-rank-glob').value) || 999,
                device: document.getElementById('adm-dev').value,
                type: document.getElementById('adm-type').value,
                server: document.getElementById('adm-srv').value,
                isGlobal: document.getElementById('adm-global').checked,
                bio: document.getElementById('adm-bio').value
            }).then(() => {
                alert("Игрок добавлен/обновлен!");
                document.getElementById('adm-name').value = '';
            });
        }
        
        function deleteData() { 
            const n = document.getElementById('adm-name').value.trim(); 
            if(n && confirm("Точно удалить " + n + "?")) {
                db.ref('players/' + n).remove().then(() => {
                    alert("Удалено!");
                    document.getElementById('adm-name').value = '';
                });
            }
        }
        
        function auth() { if(btoa(prompt("Пароль:")) === "ZG9pcnN5MTIz" style="width:100%; margin-top:20px;" onclick="toggleModal('user-modal')">ГОТОВО</button>
        </div>
    </div>

    <div id="admin-panel" class="admin-panel hidden">
        <input type="text" id="adm-name" class="admin-input" placeholder="Ник" style="width:80px">
        <input type="text" id="adm-tier" class="admin-input" style="width:40px" placeholder="HT1">
        <input type="number" id="adm-rank-dev" class="admin-input" style="width:45px" placeholder="RD">
        <input type="number" id="adm-rank-glob" class="admin-input" style="width:45px" placeholder="RG">
        <select id="adm-dev" class="admin-input"><option value="pc">PC</option><option value="gp">GP</option><option value="pe">PE</option></select>
        <select id="adm-type" class="admin-input"><option value="sword">Меч</option><option value="bow">Лук</option></select>
        <select id="adm-srv" class="admin-input"><option value="ugame">UGAME</option><option value="breadix">BREADIX</option><option value="minenex">MINENEX</option></select>
        <input type="text" id="adm-bio" class="admin-input" placeholder="Био" style="width:80px">
        <label style="font-size: 8px; color:white;"><input type="checkbox" id="adm-global"> GLOB</label>
        <button class="admin-btn" onclick="saveData()">SAVE</button>
        <button class="admin-btn" style="background:#333" onclick="deleteData()">DEL</button>
    </div>
    <div style="position:fixed; bottom:5px; right:10px; font-size:8px; opacity:0.1; cursor:pointer;" onclick="auth()">ADMIN</div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCwcHXslvUZoFJ6qOd-7TGZXo2dQrWx6Kg",
            authDomain: "fishtiers-b8b0f.firebaseapp.com",
            databaseURL: "https://fishtiers-b8b0f-default-rtdb.firebaseio.com",
            projectId: "fishtiers-b8b0f",
            storageBucket: "fishtiers-b8b0f.firebasestorage.app",
            messagingSenderId: "887698034750",
            appId: "1:887698034750:web:953f8fb88f215c7104816f"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let players = [];
        let curMode = 'global', curDevice = 'all', curServer = 'all';

        // --- Эффекты ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound() {
            try {
                if (audioCtx.state === 'suspended') audioCtx.resume();
                const o = audioCtx.createOscillator(), g = audioCtx.createGain();
                o.type='sine'; o.frequency.setValueAtTime(600, audioCtx.currentTime);
                o.frequency.exponentialRampToValueAtTime(100, audioCtx.currentTime + 0.1);
                g.gain.setValueAtTime(0.05, audioCtx.currentTime);
                g.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                o.connect(g); g.connect(audioCtx.destination); o.start(); o.stop(audioCtx.currentTime+0.1);
            } catch(e){}
        }

        window.addEventListener('click', (e) => {
            if(e.target.tagName==='INPUT' || e.target.tagName==='SELECT') return;
            playSound();
            for(let i=0; i<6; i++) {
                const p = document.createElement('div'); p.className = 'click-particle';
                p.style.left = e.clientX+'px'; p.style.top = e.clientY+'px';
                p.style.setProperty('--tx', (Math.random()-0.5)*100+'px');
                p.style.setProperty('--ty', (Math.random()-0.5)*100+'px');
                document.body.appendChild(p); setTimeout(()=>p.remove(), 600);
            }
        });

        // --- Логика рендеринга ---
        function getTierStyle(t) {
            if(t === "HT1") return "gold";
            if(t === "HT2") return "silver";
            if(t === "HT3") return "bronze";
            return "normal";
        }

        db.ref('players').on('value', snap => {
            players = snap.val() ? Object.values(snap.val()) : [];
            renderAll();
        });

        function renderAll() {
            const area = document.getElementById('display-area'), search = document.getElementById('search').value.toLowerCase();
            area.innerHTML = '';

            const filtered = players.filter(p => {
                const mSearch = p.name.toLowerCase().includes(search);
                const mDevice = (curDevice === 'all' || p.device === curDevice);
                const mServer = (curServer === 'all' || p.server === curServer);
                const mType = (curMode === 'global') ? true : (curMode === 'bows' ? p.type === 'bow' : p.type === 'sword');
                const mGlobal = (curMode === 'global') ? p.isGlobal : true;
                return mSearch && mDevice && mServer && mType && mGlobal;
            });

            if (curMode === 'global') {
                const grid = document.createElement('div'); grid.className = 'global-grid';
                // СОРТИРОВКА: 1 выше 2, 2 выше 3 и т.д.
                filtered.sort((a,b) => (curDevice === 'all' ? a.rankGlob - b.rankGlob : a.rankDev - b.rankDev));
                
                filtered.forEach(p => {
                    const r = (curDevice === 'all' ? p.rankGlob : p.rankDev);
                    if(r <= 0) return;
                    const style = getTierStyle(p.tier);
                    grid.innerHTML += `<div class="player-card card-${style}" onclick="openBio('${p.name}')"><div class="rank-num">#${r}</div><div class="skin-box"><img src="https://minotar.net/helm/${p.name}/60.png"></div><div><b>${p.name}</b><br><small>${p.server.toUpperCase()} | ${p.tier}</small></div></div>`;
                });
                area.appendChild(grid);
            } else {
                const tiers = curMode === 'tiers' ? ["HT1", "HT2", "HT3", "MT1", "MT2", "LT1", "LT2", "LT3"] : ["HT1", "HT2", "HT3", "HT4", "HT5", "MT1", "MT2", "MT3", "MT4", "MT5", "LT1", "LT2", "LT3", "LT4", "LT5"];
                
                tiers.forEach(t => {
                    // СОРТИРОВКА ВНУТРИ ТИРА: по девайс рангу
                    const tierPlayers = filtered.filter(p => p.tier === t).sort((a,b) => a.rankDev - b.rankDev);
                    if(tierPlayers.length > 0) {
                        const style = getTierStyle(t);
                        area.innerHTML += `<div class="tier-row"><div class="tier-label t-${style}">${t}</div><div class="players-wrap">${tierPlayers.map(p => `<div class="p-tag tag-${style}" onclick="openBio('${p.name}')">${p.name}</div>`).join('')}</div></div>`;
                    }
                });
            }
        }

        // --- Вспомогательные функции ---
        function init() {
            const s = JSON.parse(localStorage.getItem('fCfg')) || { color: '#FF0000', blur: 100 };
            document.getElementById('u-color').value = s.color;
            document.getElementById('u-blur').value = s.blur;
            updateUI(false);
        }

        function updateUI(save = true) {
            const c = document.getElementById('u-color').value, b = document.getElementById('u-blur').value;
            document.documentElement.style.setProperty('--accent', c);
            document.documentElement.style.setProperty('--blur', b + 'px');
            document.getElementById('glow').style.background = `radial-gradient(circle at 20% 20%, ${c} 0%, transparent 40%), radial-gradient(circle at 80% 80%, ${c} 0%, transparent 40%)`;
            if(save) localStorage.setItem('fCfg', JSON.stringify({ color: c, blur: b }));
        }

        function setMainMode(m, el) { curMode = m; updateActive(el, '#main-modes'); renderAll(); }
        function setDevice(d, el) { curDevice = d; updateActive(el, '#device-modes'); renderAll(); }
        function setServer(s, el) { curServer = s; updateActive(el, '#srv-select'); renderAll(); }
        function updateActive(el, parentId) { document.querySelectorAll(parentId + ' .nav-btn').forEach(b => b.classList.remove('active')); el.classList.add('active'); }
        function toggleModal(id) { document.getElementById(id).classList.toggle('hidden'); }

        function openBio(n) {
            const p = players.find(x => x.name === n); if(!p) return;
            document.getElementById('b-name').innerText = p.name;
            document.getElementById('b-img').src = `https://minotar.net/helm/${p.name}/100.png`;
            document.getElementById('b-stats').innerHTML = `DEVICE: ${p.device.toUpperCase()} | SERVER: ${p.server.toUpperCase()}<br>TIER: ${p.tier} | RANK: #${p.rankDev} (ALL: #${p.rankGlob})`;
            document.getElementById('b-bio-text').innerText = p.bio || "Биография игрока отсутствует.";
            toggleModal('bio-modal');
        }

        function saveData() {
            const n = document.getElementById('adm-name').value.trim();
            if(!n) return;
            db.ref('players/' + n).set({
                name: n, tier: document.getElementById('adm-tier').value.toUpperCase(),
                rankDev: parseInt(document.getElementById('adm-rank-dev').value) || 0,
                rankGlob: parseInt(document.getElementById('adm-rank-glob').value) || 0,
                device: document.getElementById('adm-dev').value,
                type: document.getElementById('adm-type').value,
                server: document.getElementById('adm-srv').value,
                isGlobal: document.getElementById('adm-global').checked,
                bio: document.getElementById('adm-bio').value
            }).then(() => alert("Saved!"));
        }
        function deleteData() { const n = document.getElementById('adm-name').value; if(n && confirm("DEL?")) db.ref('players/' + n).remove(); }
        function auth() { if(btoa(prompt("Pass:")) === "ZG9pcnN5MTIz") document.getElementById('admin-panel').classList.remove('hidden'); }
        init();
    </script>
</body>
</html>
